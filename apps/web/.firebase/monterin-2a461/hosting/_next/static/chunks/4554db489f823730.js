(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43647,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},4289,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={assign:function(){return l},searchParamsToUrlQuery:function(){return i},urlQueryToSearchParams:function(){return s}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});function i(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function a(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function s(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,a(e));else t.set(r,a(n));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,n]of r.entries())e.append(t,n)}return e}},57551,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={formatUrl:function(){return s},formatWithValidation:function(){return u},urlObjectKeys:function(){return l}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});let i=e.r(20368)._(e.r(4289)),a=/https?|ftp|gopher|file/;function s(e){let{auth:t,hostname:r}=e,n=e.protocol||"",o=e.pathname||"",s=e.hash||"",l=e.query||"",u=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?u=t+e.host:r&&(u=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=String(i.urlQueryToSearchParams(l)));let c=e.search||l&&`?${l}`||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||a.test(n))&&!1!==u?(u="//"+(u||""),o&&"/"!==o[0]&&(o="/"+o)):u||(u=""),s&&"#"!==s[0]&&(s="#"+s),c&&"?"!==c[0]&&(c="?"+c),o=o.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${n}${u}${o}${c}${s}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function u(e){return s(e)}},69734,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return o}});let n=e.r(82523);function o(e,t){let r=(0,n.useRef)(null),o=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=o.current;t&&(o.current=null,t())}else e&&(r.current=i(e,n)),t&&(o.current=i(t,n))},[e,t])}function i(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},43201,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return E},MissingStaticPage:function(){return x},NormalizeError:function(){return b},PageNotFoundError:function(){return y},SP:function(){return p},ST:function(){return v},WEB_VITALS:function(){return i},execOnce:function(){return a},getDisplayName:function(){return d},getLocationOrigin:function(){return u},getURL:function(){return c},isAbsoluteUrl:function(){return l},isResSent:function(){return h},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return m},stringifyError:function(){return w}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});let i=["CLS","FCP","FID","INP","LCP","TTFB"];function a(e){let t,r=!1;return(...n)=>(r||(r=!0,t=e(...n)),t)}let s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>s.test(e);function u(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function c(){let{href:e}=window.location,t=u();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function h(e){return e.finished||e.headersSent}function m(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&h(r))return n;if(!n)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let p="undefined"!=typeof performance,v=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class b extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class x extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class E extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(e){return JSON.stringify({message:e.message,stack:e.stack})}},81300,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return i}});let n=e.r(43201),o=e.r(17469);function i(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,o.hasBasePath)(r.pathname)}catch(e){return!1}}},57375,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},40628,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return g},useLinkStatus:function(){return y}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});let i=e.r(20368),a=e.r(24413),s=i._(e.r(82523)),l=e.r(57551),u=e.r(81143),c=e.r(69734),d=e.r(43201),h=e.r(22516);e.r(43647);let m=e.r(32918),f=e.r(81300),p=e.r(53073);function v(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function g(t){var r;let n,o,i,[l,g]=(0,s.useOptimistic)(m.IDLE_LINK_STATUS),y=(0,s.useRef)(null),{href:x,as:E,children:w,prefetch:j=null,passHref:P,replace:O,shallow:T,scroll:M,onClick:C,onMouseEnter:k,onTouchStart:D,legacyBehavior:U=!1,onNavigate:_,ref:S,unstable_dynamicOnHover:A,...L}=t;n=w,U&&("string"==typeof n||"number"==typeof n)&&(n=(0,a.jsx)("a",{children:n}));let N=s.default.useContext(u.AppRouterContext),I=!1!==j,R=!1!==j?null===(r=j)||"auto"===r?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:F,as:V}=s.default.useMemo(()=>{let e=v(x);return{href:e,as:E?v(E):e}},[x,E]);if(U){if(n?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});o=s.default.Children.only(n)}let z=U?o&&"object"==typeof o&&o.ref:S,Y=s.default.useCallback(e=>(null!==N&&(y.current=(0,m.mountLinkInstance)(e,F,N,R,I,g)),()=>{y.current&&((0,m.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,m.unmountPrefetchableInstance)(e)}),[I,F,N,R,g]),B={ref:(0,c.useMergedRef)(Y,z),onClick(t){U||"function"!=typeof C||C(t),U&&o.props&&"function"==typeof o.props.onClick&&o.props.onClick(t),!N||t.defaultPrevented||function(t,r,n,o,i,a,l){if("undefined"!=typeof window){let u,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((u=t.currentTarget.getAttribute("target"))&&"_self"!==u||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,f.isLocalURL)(r)){i&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(74336);s.default.startTransition(()=>{d(n||r,i?"replace":"push",a??!0,o.current)})}}(t,F,V,y,O,M,_)},onMouseEnter(e){U||"function"!=typeof k||k(e),U&&o.props&&"function"==typeof o.props.onMouseEnter&&o.props.onMouseEnter(e),N&&I&&(0,m.onNavigationIntent)(e.currentTarget,!0===A)},onTouchStart:function(e){U||"function"!=typeof D||D(e),U&&o.props&&"function"==typeof o.props.onTouchStart&&o.props.onTouchStart(e),N&&I&&(0,m.onNavigationIntent)(e.currentTarget,!0===A)}};return(0,d.isAbsoluteUrl)(V)?B.href=V:U&&!P&&("a"!==o.type||"href"in o.props)||(B.href=(0,h.addBasePath)(V)),i=U?s.default.cloneElement(o,B):(0,a.jsx)("a",{...L,...B,children:n}),(0,a.jsx)(b.Provider,{value:l,children:i})}e.r(57375);let b=(0,s.createContext)(m.IDLE_LINK_STATUS),y=()=>(0,s.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},70981,e=>{"use strict";var t=e.i(1582);function r(){let e=new t.BufferGeometry,r=[],n=[],o=(e,t,n)=>(r.push(e,t,n),r.length/3-1),i=o(0,.3,0),a=[];for(let e=0;e<32;e++){let t=e/32*Math.PI*2;a.push(o(.6*Math.cos(t),.3,.6*Math.sin(t)))}let s=[];for(let e=0;e<32;e++){let t=e/32*Math.PI*2;s.push(o(+Math.cos(t),0,+Math.sin(t)))}let l=o(0,-1,0);for(let e=0;e<32;e++){let t=(e+1)%32;n.push(i,a[e],a[t])}for(let e=0;e<32;e++){let t=(e+1)%32;n.push(a[e],s[e],a[t]),n.push(a[t],s[e],s[t])}for(let e=0;e<32;e++){let t=(e+1)%32;n.push(s[e],l,s[t])}return e.setAttribute("position",new t.Float32BufferAttribute(r,3)),e.setIndex(n),e.computeVertexNormals(),e}e.s(["getBrilliantCutGeometry",()=>r])},55985,17863,21263,e=>{"use strict";var t=e.i(97245),r=e.i(82523),n=e.i(39781),o=e.i(31361),i=e.i(75802),i=i,a=i,s=e.i(62),l=e.i(1582),u=l,c=e.i(29873);class d extends u.Mesh{constructor(e,t){var r,n;const o=(e=>e&&e.isCubeTexture)(e),i=Math.floor(Math.log2((null!=(n=o?null==(r=e.image[0])?void 0:r.width:e.image.width)?n:1024)/4)),a=Math.pow(2,i),s=3*Math.max(a,112),l=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,d=[o?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/s}`,`#define CUBEUV_TEXEL_HEIGHT ${1/(4*a)}`,`#define CUBEUV_MAX_MIP ${i}.0`].join("\n")+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${c.version>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,h={map:{value:e},height:{value:(null==t?void 0:t.height)||15},radius:{value:(null==t?void 0:t.radius)||100}};super(new u.IcosahedronGeometry(1,16),new u.ShaderMaterial({uniforms:h,fragmentShader:d,vertexShader:l,side:u.DoubleSide}))}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var h=e.i(58519);function m(e,t,r,n,o={}){var i,s,l,u,c;let d;o={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...o};let h=(d=c=t||r).current&&d.current.isScene?c.current:c,f=h.background,p=h.environment,v={backgroundBlurriness:h.backgroundBlurriness,backgroundIntensity:h.backgroundIntensity,backgroundRotation:null!=(i=null==(s=h.backgroundRotation)||null==s.clone?void 0:s.clone())?i:[0,0,0],environmentIntensity:h.environmentIntensity,environmentRotation:null!=(l=null==(u=h.environmentRotation)||null==u.clone?void 0:u.clone())?l:[0,0,0]};return"only"!==e&&(h.environment=n),e&&(h.background=n),(0,a.s)(h,o),()=>{"only"!==e&&(h.environment=p),e&&(h.background=f),(0,a.s)(h,v)}}function f({scene:e,background:t=!1,map:o,...i}){let a=(0,n.useThree)(e=>e.scene);return r.useLayoutEffect(()=>{if(o)return m(t,e,a,o,i)}),null}function p({background:e=!1,scene:t,blur:o,backgroundBlurriness:i,backgroundIntensity:a,backgroundRotation:s,environmentIntensity:l,environmentRotation:u,...c}){let d=(0,h.useEnvironment)(c),f=(0,n.useThree)(e=>e.scene);return r.useLayoutEffect(()=>m(e,t,f,d,{backgroundBlurriness:null!=o?o:i,backgroundIntensity:a,backgroundRotation:s,environmentIntensity:l,environmentRotation:u})),r.useEffect(()=>()=>{d.dispose()},[d]),null}function v({children:e,near:t=.1,far:a=1e3,resolution:s=256,frames:u=1,map:c,background:d=!1,blur:h,backgroundBlurriness:v,backgroundIntensity:g,backgroundRotation:b,environmentIntensity:y,environmentRotation:x,scene:E,files:w,path:j,preset:P,extensions:O}){let T=(0,n.useThree)(e=>e.gl),M=(0,n.useThree)(e=>e.scene),C=r.useRef(null),[k]=r.useState(()=>new l.Scene),D=r.useMemo(()=>{let e=new l.WebGLCubeRenderTarget(s);return e.texture.type=l.HalfFloatType,e},[s]);r.useEffect(()=>()=>{D.dispose()},[D]),r.useLayoutEffect(()=>{if(1===u){let e=T.autoClear;T.autoClear=!0,C.current.update(T,k),T.autoClear=e}return m(d,E,M,D.texture,{backgroundBlurriness:null!=h?h:v,backgroundIntensity:g,backgroundRotation:b,environmentIntensity:y,environmentRotation:x})},[e,k,D.texture,E,M,d,u,T]);let U=1;return(0,o.useFrame)(()=>{if(u===1/0||U<u){let e=T.autoClear;T.autoClear=!0,C.current.update(T,k),T.autoClear=e,U++}}),r.createElement(r.Fragment,null,(0,i.o)(r.createElement(r.Fragment,null,e,r.createElement("cubeCamera",{ref:C,args:[t,a,D]}),w||P?r.createElement(p,{background:!0,files:w,preset:P,path:j,extensions:O}):c?r.createElement(f,{background:!0,map:c,extensions:O}):null),k))}function g(e){var n,o,i,a;let l=(0,h.useEnvironment)(e),u=e.map||l;r.useMemo(()=>(0,s.extend)({GroundProjectedEnvImpl:d}),[]),r.useEffect(()=>()=>{l.dispose()},[l]);let c=r.useMemo(()=>[u],[u]),m=null==(n=e.ground)?void 0:n.height,p=null==(o=e.ground)?void 0:o.radius,v=null!=(i=null==(a=e.ground)?void 0:a.scale)?i:1e3;return r.createElement(r.Fragment,null,r.createElement(f,(0,t.default)({},e,{map:u})),r.createElement("groundProjectedEnvImpl",{args:c,scale:v,height:m,radius:p}))}function b(e){return e.ground?r.createElement(g,e):e.map?r.createElement(f,e):e.children?r.createElement(v,e):r.createElement(p,e)}e.s(["Environment",()=>b],55985);let y={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},x={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `},E=r.forwardRef(({scale:e=10,frames:i=1/0,opacity:a=1,width:s=1,height:u=1,blur:c=1,near:d=0,far:h=10,resolution:m=512,smooth:f=!0,color:p="#000000",depthWrite:v=!1,renderOrder:g,...b},E)=>{let w,j,P=r.useRef(null),O=(0,n.useThree)(e=>e.scene),T=(0,n.useThree)(e=>e.gl),M=r.useRef(null);s*=Array.isArray(e)?e[0]:e||1,u*=Array.isArray(e)?e[1]:e||1;let[C,k,D,U,_,S,A]=r.useMemo(()=>{let e=new l.WebGLRenderTarget(m,m),t=new l.WebGLRenderTarget(m,m);t.texture.generateMipmaps=e.texture.generateMipmaps=!1;let r=new l.PlaneGeometry(s,u).rotateX(Math.PI/2),n=new l.Mesh(r),o=new l.MeshDepthMaterial;o.depthTest=o.depthWrite=!1,o.onBeforeCompile=e=>{e.uniforms={...e.uniforms,ucolor:{value:new l.Color(p)}},e.fragmentShader=e.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),e.fragmentShader=e.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};let i=new l.ShaderMaterial(y),a=new l.ShaderMaterial(x);return a.depthTest=i.depthTest=!1,[e,r,o,n,i,a,t]},[m,s,u,e,p]),L=e=>{U.visible=!0,U.material=_,_.uniforms.tDiffuse.value=C.texture,_.uniforms.h.value=e/256,T.setRenderTarget(A),T.render(U,M.current),U.material=S,S.uniforms.tDiffuse.value=A.texture,S.uniforms.v.value=e/256,T.setRenderTarget(C),T.render(U,M.current),U.visible=!1},N=0;return(0,o.useFrame)(()=>{M.current&&(i===1/0||N<i)&&(N++,w=O.background,j=O.overrideMaterial,P.current.visible=!1,O.background=null,O.overrideMaterial=D,T.setRenderTarget(C),T.render(O,M.current),L(c),f&&L(.4*c),T.setRenderTarget(null),P.current.visible=!0,O.overrideMaterial=j,O.background=w)}),r.useImperativeHandle(E,()=>P.current,[]),r.createElement("group",(0,t.default)({"rotation-x":Math.PI/2},b,{ref:P}),r.createElement("mesh",{renderOrder:g,geometry:k,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},r.createElement("meshBasicMaterial",{transparent:!0,map:C.texture,opacity:a,depthWrite:v})),r.createElement("orthographicCamera",{ref:M,args:[-s/2,s/2,u/2,-u/2,d,h]}))});e.s(["ContactShadows",()=>E],17863);var w=Object.defineProperty;class j{constructor(){((e,t,r)=>{let n,o;o=void 0,(n="symbol"!=typeof t?t+"":t)in e?w(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o})(this,"_listeners")}addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;let r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;let r=this._listeners[e];if(void 0!==r){let e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let t=this._listeners[e.type];if(void 0!==t){e.target=this;let r=t.slice(0);for(let t=0,n=r.length;t<n;t++)r[t].call(this,e);e.target=null}}}var P=Object.defineProperty,O=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?P(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,r};let T=new l.Ray,M=new l.Plane,C=Math.cos(Math.PI/180*70),k=(e,t)=>(e%t+t)%t;class D extends j{constructor(e,t){super(),O(this,"object"),O(this,"domElement"),O(this,"enabled",!0),O(this,"target",new l.Vector3),O(this,"minDistance",0),O(this,"maxDistance",1/0),O(this,"minZoom",0),O(this,"maxZoom",1/0),O(this,"minPolarAngle",0),O(this,"maxPolarAngle",Math.PI),O(this,"minAzimuthAngle",-1/0),O(this,"maxAzimuthAngle",1/0),O(this,"enableDamping",!1),O(this,"dampingFactor",.05),O(this,"enableZoom",!0),O(this,"zoomSpeed",1),O(this,"enableRotate",!0),O(this,"rotateSpeed",1),O(this,"enablePan",!0),O(this,"panSpeed",1),O(this,"screenSpacePanning",!0),O(this,"keyPanSpeed",7),O(this,"zoomToCursor",!1),O(this,"autoRotate",!1),O(this,"autoRotateSpeed",2),O(this,"reverseOrbit",!1),O(this,"reverseHorizontalOrbit",!1),O(this,"reverseVerticalOrbit",!1),O(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),O(this,"mouseButtons",{LEFT:l.MOUSE.ROTATE,MIDDLE:l.MOUSE.DOLLY,RIGHT:l.MOUSE.PAN}),O(this,"touches",{ONE:l.TOUCH.ROTATE,TWO:l.TOUCH.DOLLY_PAN}),O(this,"target0"),O(this,"position0"),O(this,"zoom0"),O(this,"_domElementKeyEvents",null),O(this,"getPolarAngle"),O(this,"getAzimuthalAngle"),O(this,"setPolarAngle"),O(this,"setAzimuthalAngle"),O(this,"getDistance"),O(this,"getZoomScale"),O(this,"listenToKeyEvents"),O(this,"stopListenToKeyEvents"),O(this,"saveState"),O(this,"reset"),O(this,"update"),O(this,"connect"),O(this,"dispose"),O(this,"dollyIn"),O(this,"dollyOut"),O(this,"getScale"),O(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=e=>{let t=k(e,2*Math.PI),n=c.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);let o=Math.abs(t-n);2*Math.PI-o<o&&(t<n?t+=2*Math.PI:n+=2*Math.PI),d.phi=t-n,r.update()},this.setAzimuthalAngle=e=>{let t=k(e,2*Math.PI),n=c.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);let o=Math.abs(t-n);2*Math.PI-o<o&&(t<n?t+=2*Math.PI:n+=2*Math.PI),d.theta=t-n,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",ee),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ee),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(n),r.update(),s=a.NONE},this.update=(()=>{let t=new l.Vector3,o=new l.Vector3(0,1,0),i=new l.Quaternion().setFromUnitVectors(e.up,o),f=i.clone().invert(),p=new l.Vector3,v=new l.Quaternion,g=2*Math.PI;return function(){let b=r.object.position;i.setFromUnitVectors(e.up,o),f.copy(i).invert(),t.copy(b).sub(r.target),t.applyQuaternion(i),c.setFromVector3(t),r.autoRotate&&s===a.NONE&&A(2*Math.PI/60/60*r.autoRotateSpeed),r.enableDamping?(c.theta+=d.theta*r.dampingFactor,c.phi+=d.phi*r.dampingFactor):(c.theta+=d.theta,c.phi+=d.phi);let y=r.minAzimuthAngle,x=r.maxAzimuthAngle;isFinite(y)&&isFinite(x)&&(y<-Math.PI?y+=g:y>Math.PI&&(y-=g),x<-Math.PI?x+=g:x>Math.PI&&(x-=g),y<=x?c.theta=Math.max(y,Math.min(x,c.theta)):c.theta=c.theta>(y+x)/2?Math.max(y,c.theta):Math.min(x,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),!0===r.enableDamping?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&D||r.object.isOrthographicCamera?c.radius=z(c.radius):c.radius=z(c.radius*h),t.setFromSpherical(c),t.applyQuaternion(f),b.copy(r.target).add(t),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),!0===r.enableDamping?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),m.set(0,0,0));let E=!1;if(r.zoomToCursor&&D){let n=null;if(r.object instanceof l.PerspectiveCamera&&r.object.isPerspectiveCamera){let e=t.length();n=z(e*h);let o=e-n;r.object.position.addScaledVector(j,o),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){let e=new l.Vector3(P.x,P.y,0);e.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),E=!0;let o=new l.Vector3(P.x,P.y,0);o.unproject(r.object),r.object.position.sub(o).add(e),r.object.updateMatrixWorld(),n=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;null!==n&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(n).add(r.object.position):(T.origin.copy(r.object.position),T.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(T.direction))<C?e.lookAt(r.target):(M.setFromNormalAndCoplanarPoint(r.object.up,r.target),T.intersectPlane(M,r.target))))}else r.object instanceof l.OrthographicCamera&&r.object.isOrthographicCamera&&(E=1!==h)&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix());return h=1,D=!1,!!(E||p.distanceToSquared(r.object.position)>u||8*(1-v.dot(r.object.quaternion))>u)&&(r.dispatchEvent(n),p.copy(r.object.position),v.copy(r.object.quaternion),E=!1,!0)}})(),this.connect=e=>{r.domElement=e,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",et),r.domElement.addEventListener("pointerdown",G),r.domElement.addEventListener("pointercancel",Q),r.domElement.addEventListener("wheel",J)},this.dispose=()=>{var e,t,n,o,i,a;r.domElement&&(r.domElement.style.touchAction="auto"),null==(e=r.domElement)||e.removeEventListener("contextmenu",et),null==(t=r.domElement)||t.removeEventListener("pointerdown",G),null==(n=r.domElement)||n.removeEventListener("pointercancel",Q),null==(o=r.domElement)||o.removeEventListener("wheel",J),null==(i=r.domElement)||i.ownerDocument.removeEventListener("pointermove",q),null==(a=r.domElement)||a.ownerDocument.removeEventListener("pointerup",Q),null!==r._domElementKeyEvents&&r._domElementKeyEvents.removeEventListener("keydown",ee)};const r=this,n={type:"change"},o={type:"start"},i={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=a.NONE;const u=1e-6,c=new l.Spherical,d=new l.Spherical;let h=1;const m=new l.Vector3,f=new l.Vector2,p=new l.Vector2,v=new l.Vector2,g=new l.Vector2,b=new l.Vector2,y=new l.Vector2,x=new l.Vector2,E=new l.Vector2,w=new l.Vector2,j=new l.Vector3,P=new l.Vector2;let D=!1;const U=[],_={};function S(){return Math.pow(.95,r.zoomSpeed)}function A(e){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=e:d.theta-=e}function L(e){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=e:d.phi-=e}const N=(()=>{let e=new l.Vector3;return function(t,r){e.setFromMatrixColumn(r,0),e.multiplyScalar(-t),m.add(e)}})(),I=(()=>{let e=new l.Vector3;return function(t,n){!0===r.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(r.object.up,e)),e.multiplyScalar(t),m.add(e)}})(),R=(()=>{let e=new l.Vector3;return function(t,n){let o=r.domElement;if(o&&r.object instanceof l.PerspectiveCamera&&r.object.isPerspectiveCamera){let i=r.object.position;e.copy(i).sub(r.target);let a=e.length();N(2*t*(a*=Math.tan(r.object.fov/2*Math.PI/180))/o.clientHeight,r.object.matrix),I(2*n*a/o.clientHeight,r.object.matrix)}else o&&r.object instanceof l.OrthographicCamera&&r.object.isOrthographicCamera?(N(t*(r.object.right-r.object.left)/r.object.zoom/o.clientWidth,r.object.matrix),I(n*(r.object.top-r.object.bottom)/r.object.zoom/o.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function F(e){r.object instanceof l.PerspectiveCamera&&r.object.isPerspectiveCamera||r.object instanceof l.OrthographicCamera&&r.object.isOrthographicCamera?h=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function V(e){if(!r.zoomToCursor||!r.domElement)return;D=!0;let t=r.domElement.getBoundingClientRect(),n=e.clientX-t.left,o=e.clientY-t.top,i=t.width,a=t.height;P.x=n/i*2-1,P.y=-(o/a*2)+1,j.set(P.x,P.y,1).unproject(r.object).sub(r.object.position).normalize()}function z(e){return Math.max(r.minDistance,Math.min(r.maxDistance,e))}function Y(e){f.set(e.clientX,e.clientY)}function B(e){g.set(e.clientX,e.clientY)}function H(){if(1==U.length)f.set(U[0].pageX,U[0].pageY);else{let e=.5*(U[0].pageX+U[1].pageX),t=.5*(U[0].pageY+U[1].pageY);f.set(e,t)}}function X(){if(1==U.length)g.set(U[0].pageX,U[0].pageY);else{let e=.5*(U[0].pageX+U[1].pageX),t=.5*(U[0].pageY+U[1].pageY);g.set(e,t)}}function W(){let e=U[0].pageX-U[1].pageX,t=U[0].pageY-U[1].pageY,r=Math.sqrt(e*e+t*t);x.set(0,r)}function Z(e){if(1==U.length)p.set(e.pageX,e.pageY);else{let t=en(e),r=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);p.set(r,n)}v.subVectors(p,f).multiplyScalar(r.rotateSpeed);let t=r.domElement;t&&(A(2*Math.PI*v.x/t.clientHeight),L(2*Math.PI*v.y/t.clientHeight)),f.copy(p)}function K(e){if(1==U.length)b.set(e.pageX,e.pageY);else{let t=en(e),r=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);b.set(r,n)}y.subVectors(b,g).multiplyScalar(r.panSpeed),R(y.x,y.y),g.copy(b)}function $(e){var t;let n=en(e),o=e.pageX-n.x,i=e.pageY-n.y,a=Math.sqrt(o*o+i*i);E.set(0,a),w.set(0,Math.pow(E.y/x.y,r.zoomSpeed)),t=w.y,F(h/t),x.copy(E)}function G(e){var t,n,i;!1!==r.enabled&&(0===U.length&&(null==(t=r.domElement)||t.ownerDocument.addEventListener("pointermove",q),null==(n=r.domElement)||n.ownerDocument.addEventListener("pointerup",Q)),i=e,U.push(i),"touch"===e.pointerType?function(e){switch(er(e),U.length){case 1:switch(r.touches.ONE){case l.TOUCH.ROTATE:if(!1===r.enableRotate)return;H(),s=a.TOUCH_ROTATE;break;case l.TOUCH.PAN:if(!1===r.enablePan)return;X(),s=a.TOUCH_PAN;break;default:s=a.NONE}break;case 2:switch(r.touches.TWO){case l.TOUCH.DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;r.enableZoom&&W(),r.enablePan&&X(),s=a.TOUCH_DOLLY_PAN;break;case l.TOUCH.DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;r.enableZoom&&W(),r.enableRotate&&H(),s=a.TOUCH_DOLLY_ROTATE;break;default:s=a.NONE}break;default:s=a.NONE}s!==a.NONE&&r.dispatchEvent(o)}(e):function(e){let t;switch(e.button){case 0:t=r.mouseButtons.LEFT;break;case 1:t=r.mouseButtons.MIDDLE;break;case 2:t=r.mouseButtons.RIGHT;break;default:t=-1}switch(t){case l.MOUSE.DOLLY:if(!1===r.enableZoom)return;V(e),x.set(e.clientX,e.clientY),s=a.DOLLY;break;case l.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===r.enablePan)return;B(e),s=a.PAN}else{if(!1===r.enableRotate)return;Y(e),s=a.ROTATE}break;case l.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===r.enableRotate)return;Y(e),s=a.ROTATE}else{if(!1===r.enablePan)return;B(e),s=a.PAN}break;default:s=a.NONE}s!==a.NONE&&r.dispatchEvent(o)}(e))}function q(e){!1!==r.enabled&&("touch"===e.pointerType?function(e){switch(er(e),s){case a.TOUCH_ROTATE:if(!1===r.enableRotate)return;Z(e),r.update();break;case a.TOUCH_PAN:if(!1===r.enablePan)return;K(e),r.update();break;case a.TOUCH_DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;r.enableZoom&&$(e),r.enablePan&&K(e),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;r.enableZoom&&$(e),r.enableRotate&&Z(e),r.update();break;default:s=a.NONE}}(e):function(e){if(!1!==r.enabled)switch(s){case a.ROTATE:let t;if(!1===r.enableRotate)return;p.set(e.clientX,e.clientY),v.subVectors(p,f).multiplyScalar(r.rotateSpeed),(t=r.domElement)&&(A(2*Math.PI*v.x/t.clientHeight),L(2*Math.PI*v.y/t.clientHeight)),f.copy(p),r.update();break;case a.DOLLY:var n,o;if(!1===r.enableZoom)return;(E.set(e.clientX,e.clientY),w.subVectors(E,x),w.y>0)?(n=S(),F(h/n)):w.y<0&&(o=S(),F(h*o)),x.copy(E),r.update();break;case a.PAN:if(!1===r.enablePan)return;b.set(e.clientX,e.clientY),y.subVectors(b,g).multiplyScalar(r.panSpeed),R(y.x,y.y),g.copy(b),r.update()}}(e))}function Q(e){var t,n,o;(function(e){delete _[e.pointerId];for(let t=0;t<U.length;t++)if(U[t].pointerId==e.pointerId)return void U.splice(t,1)})(e),0===U.length&&(null==(t=r.domElement)||t.releasePointerCapture(e.pointerId),null==(n=r.domElement)||n.ownerDocument.removeEventListener("pointermove",q),null==(o=r.domElement)||o.ownerDocument.removeEventListener("pointerup",Q)),r.dispatchEvent(i),s=a.NONE}function J(e){if(!1!==r.enabled&&!1!==r.enableZoom&&(s===a.NONE||s===a.ROTATE)){var t,n;e.preventDefault(),r.dispatchEvent(o),(V(e),e.deltaY<0)?(t=S(),F(h*t)):e.deltaY>0&&(n=S(),F(h/n)),r.update(),r.dispatchEvent(i)}}function ee(e){if(!1!==r.enabled&&!1!==r.enablePan){let t=!1;switch(e.code){case r.keys.UP:R(0,r.keyPanSpeed),t=!0;break;case r.keys.BOTTOM:R(0,-r.keyPanSpeed),t=!0;break;case r.keys.LEFT:R(r.keyPanSpeed,0),t=!0;break;case r.keys.RIGHT:R(-r.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),r.update())}}function et(e){!1!==r.enabled&&e.preventDefault()}function er(e){let t=_[e.pointerId];void 0===t&&(t=new l.Vector2,_[e.pointerId]=t),t.set(e.pageX,e.pageY)}function en(e){return _[(e.pointerId===U[0].pointerId?U[1]:U[0]).pointerId]}this.dollyIn=(e=S())=>{F(h*e),r.update()},this.dollyOut=(e=S())=>{F(h/e),r.update()},this.getScale=()=>h,this.setScale=e=>{F(e),r.update()},this.getZoomScale=()=>S(),void 0!==t&&this.connect(t),this.update()}}let U=r.forwardRef(({makeDefault:e,camera:i,regress:a,domElement:s,enableDamping:l=!0,keyEvents:u=!1,onChange:c,onStart:d,onEnd:h,...m},f)=>{let p=(0,n.useThree)(e=>e.invalidate),v=(0,n.useThree)(e=>e.camera),g=(0,n.useThree)(e=>e.gl),b=(0,n.useThree)(e=>e.events),y=(0,n.useThree)(e=>e.setEvents),x=(0,n.useThree)(e=>e.set),E=(0,n.useThree)(e=>e.get),w=(0,n.useThree)(e=>e.performance),j=i||v,P=s||b.connected||g.domElement,O=r.useMemo(()=>new D(j),[j]);return(0,o.useFrame)(()=>{O.enabled&&O.update()},-1),r.useEffect(()=>(u&&O.connect(!0===u?P:u),O.connect(P),()=>void O.dispose()),[u,P,a,O,p]),r.useEffect(()=>{let e=e=>{p(),a&&w.regress(),c&&c(e)},t=e=>{d&&d(e)},r=e=>{h&&h(e)};return O.addEventListener("change",e),O.addEventListener("start",t),O.addEventListener("end",r),()=>{O.removeEventListener("start",t),O.removeEventListener("end",r),O.removeEventListener("change",e)}},[c,d,h,O,p,y]),r.useEffect(()=>{if(e){let e=E().controls;return x({controls:O}),()=>x({controls:e})}},[e,O]),r.createElement("primitive",(0,t.default)({ref:f,object:O,enableDamping:l},m))});e.s(["OrbitControls",()=>U],21263)},32874,e=>{"use strict";var t=e.i(24413),r=e.i(86096),n=e.i(50059),o=e.i(31361),i=e.i(55985),a=e.i(17863),s=e.i(82523),l=e.i(1582);let u=s.forwardRef(({children:e,enabled:t=!0,speed:r=1,rotationIntensity:n=1,floatIntensity:i=1,floatingRange:a=[-.1,.1],autoInvalidate:u=!1,...c},d)=>{let h=s.useRef(null);s.useImperativeHandle(d,()=>h.current,[]);let m=s.useRef(1e4*Math.random());return(0,o.useFrame)(e=>{var o,s;if(!t||0===r)return;u&&e.invalidate();let c=m.current+e.clock.elapsedTime;h.current.rotation.x=Math.cos(c/4*r)/8*n,h.current.rotation.y=Math.sin(c/4*r)/8*n,h.current.rotation.z=Math.sin(c/4*r)/20*n;let d=Math.sin(c/4*r)/10;d=l.MathUtils.mapLinear(d,-.1,.1,null!=(o=null==a?void 0:a[0])?o:-.1,null!=(s=null==a?void 0:a[1])?s:.1),h.current.position.y=d*i,h.current.updateMatrix()}),s.createElement("group",c,s.createElement("group",{ref:h,matrixAutoUpdate:!1},e))});var c=e.i(16748),d=e.i(21263),h=e.i(58519),m=e.i(70981);function f({config:e}){let r=(0,s.useRef)(null),n=(0,h.useEnvironment)({preset:"studio"}),i=(0,s.useMemo)(()=>(0,m.getBrilliantCutGeometry)(),[]),a=.8+.2*e.carat,l=.05+e.clarity/1e3;return(0,o.useFrame)((e,t)=>{r.current&&(r.current.rotation.y+=.1*t)}),(0,t.jsx)(u,{speed:2,rotationIntensity:.2,floatIntensity:.5,children:(0,t.jsx)("mesh",{ref:r,geometry:i,scale:[a,a,a],castShadow:!0,receiveShadow:!0,children:(0,t.jsx)(c.MeshRefractionMaterial,{envMap:n,bounces:2,aberrationStrength:l,ior:2.75,fresnel:1,color:"white",fastChroma:!0})})})}function p({config:e}){return(0,t.jsx)(n.Canvas,{camera:{position:[0,0,6],fov:45},shadows:!0,dpr:[1,1],gl:{antialias:!1},children:(0,t.jsxs)(s.Suspense,{fallback:null,children:[(0,t.jsx)("color",{attach:"background",args:["#050505"]}),(0,t.jsx)("ambientLight",{intensity:.2}),(0,t.jsx)("spotLight",{position:[10,10,10],intensity:2,color:"#efd"}),(0,t.jsx)("pointLight",{position:[-10,0,-10],intensity:2,color:"#del"}),(0,t.jsx)(i.Environment,{preset:"studio",background:!1,blur:.8}),(0,t.jsx)(f,{config:e}),(0,t.jsx)(a.ContactShadows,{opacity:.4,scale:15,blur:3,far:10,resolution:256,color:"#000000"}),(0,t.jsx)(d.OrbitControls,{enableZoom:!0,minDistance:3,maxDistance:10,autoRotate:!1})]})})}function v({config:e,setConfig:r}){return(0,t.jsxs)("div",{className:"space-y-12",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-white text-sm font-serif",children:[(0,t.jsx)("span",{children:"Carat Weight"}),(0,t.jsxs)("span",{children:[e.carat.toFixed(2)," ct"]})]}),(0,t.jsx)("input",{type:"range",min:"0.5",max:"5.0",step:"0.01",value:e.carat,onChange:t=>r({...e,carat:parseFloat(t.target.value)}),className:"w-full h-1 bg-white/20 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full hover:[&::-webkit-slider-thumb]:bg-primary"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-white text-sm font-serif",children:[(0,t.jsx)("span",{children:"Luster (Clarity)"}),(0,t.jsxs)("span",{children:[e.clarity,"%"]})]}),(0,t.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:e.clarity,onChange:t=>r({...e,clarity:parseInt(t.target.value)}),className:"w-full h-1 bg-white/20 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full hover:[&::-webkit-slider-thumb]:bg-primary"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-white text-sm font-serif",children:[(0,t.jsx)("span",{children:"Cut Grade"}),(0,t.jsx)("span",{children:e.cut})]}),(0,t.jsx)("div",{className:"flex gap-2",children:["Deep","Ideal","Shallow"].map(n=>(0,t.jsx)("button",{onClick:()=>r({...e,cut:n}),className:`flex-1 py-2 text-[10px] uppercase tracking-wider border transition-all ${e.cut===n?"bg-white text-black border-white":"border-white/20 text-white/40 hover:text-white"}`,children:n},n))})]})]})}var g=e.i(98802);function b(){let e=(0,g.useRouter)(),[n,o]=(0,s.useState)({carat:1,clarity:50,cut:"Ideal"});return(0,t.jsxs)("main",{className:"h-screen bg-black overflow-hidden flex flex-col",children:[(0,t.jsx)(r.LiquidNavbar,{}),(0,t.jsxs)("div",{className:"flex-grow flex relative",children:[(0,t.jsx)("div",{className:"flex-grow relative z-0",children:(0,t.jsx)(p,{config:n})}),(0,t.jsxs)("div",{className:"w-full md:w-96 bg-neutral-950/80 backdrop-blur-md border-l border-white/10 z-10 p-8 flex flex-col justify-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-serif text-white mb-2",children:"The Atelier"}),(0,t.jsx)("p",{className:"text-white/40 text-xs uppercase tracking-widest mb-12",children:"Design your bespoke diamond"}),(0,t.jsx)(v,{config:n,setConfig:o}),(0,t.jsxs)("div",{className:"mt-12 pt-8 border-t border-white/10 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"block text-xs text-white/40 uppercase tracking-widest",children:"Estimated Value"}),(0,t.jsxs)("span",{className:"text-2xl font-serif text-white",children:["$",(8500*n.carat*(1+n.clarity/100)).toLocaleString()]})]}),(0,t.jsx)("button",{onClick:()=>{e.push("/vault/login")},className:"bg-white text-black px-6 py-3 uppercase text-xs tracking-widest hover:bg-primary transition-colors",children:"Save Design"})]})]})]})]})}e.s(["default",()=>b],32874)}]);